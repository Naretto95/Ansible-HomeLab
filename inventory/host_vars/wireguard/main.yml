---

ansible_host: 192.168.1.100

lxc_container:
  name: wireguard
  id: 110
  template: "local:vztmpl/debian-13-standard_13.1-2_amd64.tar.zst"
  memory: 512
  swap: 512
  cores: 1
  rootfs: "local-lvm:4"
  net_bridge: "vmbr0"
  net_ip_address: "{{ ansible_host }}"
  net_subnet: 24
  net_gateway: 192.168.1.1
  lxc_unprivileged: 1
  start: true
  features:
    - nesting=1
    - keyctl=1
  root_password: "{{ ansible_password }}"
  users:
    - name: "{{ ansible_user }}"
      password: "{{ ansible_password }}"
      sudo: true

packages:
  - wireguard
  - qrencode
  - iproute2
  - iptables